{
    "sourceFile": "frontend/src/pages/Doctors/AddDoctor.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1749586067421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1749586067421,
            "name": "Commit-0",
            "content": "import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { doctorsApi } from '../../services/api';\r\n\r\nconst AddDoctor = () => {\r\n  const navigate = useNavigate();\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    specialization: '',\r\n    email: '',\r\n    phone_number: '',\r\n    office_hours: ''\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await doctorsApi.create(formData);\r\n      if (response.success) {\r\n        navigate(`/doctors/${response.data.doctor.id}`);\r\n      } else {\r\n        setError(response.error || 'Failed to create doctor');\r\n      }\r\n    } catch (err) {\r\n      setError('An error occurred while creating the doctor');\r\n      console.error('Error creating doctor:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Add New Doctor</h1>\r\n        <Link\r\n          to=\"/doctors\"\r\n          className=\"px-4 py-2 border border-gray-300 rounded-md text-sm text-gray-700 bg-white hover:bg-gray-50\"\r\n        >\r\n          Cancel\r\n        </Link>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-4 bg-red-50 border-l-4 border-red-400 p-4\">\r\n          <p className=\"text-sm text-red-700\">{error}</p>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\r\n        <form onSubmit={handleSubmit} className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {/* First Name */}\r\n            <div>\r\n              <label htmlFor=\"first_name\" className=\"block text-sm font-medium text-gray-700\">\r\n                First Name *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"first_name\"\r\n                id=\"first_name\"\r\n                value={formData.first_name}\r\n                onChange={handleChange}\r\n                className=\"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Last Name */}\r\n            <div>\r\n              <label htmlFor=\"last_name\" className=\"block text-sm font-medium text-gray-700\">\r\n                Last Name *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"last_name\"\r\n                id=\"last_name\"\r\n                value={formData.last_name}\r\n                onChange={handleChange}\r\n                className=\"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Specialization */}\r\n            <div>\r\n              <label htmlFor=\"specialization\" className=\"block text-sm font-medium text-gray-700\">\r\n                Specialization *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"specialization\"\r\n                id=\"specialization\"\r\n                value={formData.specialization}\r\n                onChange={handleChange}\r\n                className=\"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Email */}\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\r\n                Email\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                id=\"email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                className=\"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\"\r\n              />\r\n            </div>\r\n\r\n            {/* Phone Number */}\r\n            <div>\r\n              <label htmlFor=\"phone_number\" className=\"block text-sm font-medium text-gray-700\">\r\n                Phone Number\r\n              </label>\r\n              <input\r\n                type=\"tel\"\r\n                name=\"phone_number\"\r\n                id=\"phone_number\"\r\n                value={formData.phone_number}\r\n                onChange={handleChange}\r\n                className=\"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\"\r\n              />\r\n            </div>\r\n\r\n            {/* Office Hours */}\r\n            <div>\r\n              <label htmlFor=\"office_hours\" className=\"block text-sm font-medium text-gray-700\">\r\n                Office Hours\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"office_hours\"\r\n                id=\"office_hours\"\r\n                value={formData.office_hours}\r\n                onChange={handleChange}\r\n                placeholder=\"e.g. Mon-Fri 9AM-5PM\"\r\n                className=\"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-6 flex justify-end\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\r\n            >\r\n              {loading ? 'Saving...' : 'Add Doctor'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddDoctor;\r\n"
        }
    ]
}